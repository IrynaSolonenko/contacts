{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/React.Hillel/contacts/src/components/ContactsBook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useMemo, useReducer } from 'react';\nimport MyHeader from \"./MyHeader\";\nimport ContactsList from \"./ContactsList\";\nimport MyPopUp from \"./UI/MyPopUp/MyPopUp\";\nimport SearchBar from \"./UI/SearchBar/SearchBar\";\nimport reducer, { MAIN_CONTACT_LIST } from \"./reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ContactsBook = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, MAIN_CONTACT_LIST);\n  const [contacts, setContacts] = useState([{\n    id: 1,\n    name: 'Lidia',\n    surname: 'Nikitina',\n    phone: '+38 (123) 123 45 67'\n  }, {\n    id: 2,\n    name: 'Alice',\n    surname: 'Kluni',\n    phone: '+38 (163) 123 45 67'\n  }, {\n    id: 3,\n    name: 'Carol',\n    surname: 'Semko',\n    phone: '+38 (123) 163 45 67'\n  }, {\n    id: 4,\n    name: 'Olga',\n    surname: 'Baritska',\n    phone: '+38 (123) 123 46 67'\n  }, {\n    id: 5,\n    name: 'Olga',\n    surname: 'Marirchko',\n    phone: '+38 (123) 123 45 66'\n  }, {\n    id: 6,\n    name: 'Svetlana',\n    surname: 'Prihodko',\n    phone: '+38 (323) 323 45 67'\n  }, {\n    id: 7,\n    name: 'Alex',\n    surname: 'Manson',\n    phone: '+38 (123) 123 43 67'\n  }]);\n\n  const onContactDelete = contact => {\n    dispatch({\n      type: 'delete',\n      payload: contact.id\n    });\n  };\n\n  const filterHandler = useMemo(() => {\n    return state.contacts.filter(contact => contact.name.toLowerCase().includes(state.filterContacts.toLowerCase()) || contact.surname.toLowerCase().includes(state.filterContacts.toLowerCase()) || contact.phone.toLowerCase().includes(state.filterContacts.toLowerCase()));\n  }, [state.contacts, state.filterContacts]);\n  const currentContactHandler = useMemo(() => {\n    return filterHandler.find(contact => contact.id === state.currentContactId);\n  }, [state.currentContactId, filterHandler]);\n\n  const closePopUp = () => {\n    dispatch({\n      type: 'closeContact',\n      payload: null\n    });\n  }; // const saveNewChange = (saveChangeHandler) => {\n  // \tconst newContacts = contacts.slice();\n  // \tconst prevIndex = newContacts.findIndex(currentId=>currentId.id === saveChangeHandler.id)\n  // \tnewContacts.splice(prevIndex, 1, saveChangeHandler)\n  // \tsetContacts(newContacts)\n  // }\n\n\n  const saveNewChange = saveChangeHandler => {\n    dispatch({\n      type: 'saveContactChange',\n      payload: saveChangeHandler\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'container',\n    children: [/*#__PURE__*/_jsxDEV(MyHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: e => dispatch({\n        type: 'search',\n        payload: e.target.value\n      }),\n      value: state.filterContacts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(ContactsList, {\n      contacts: filterHandler,\n      onContactDelete: onContactDelete,\n      buttonChange: id => dispatch({\n        type: 'currentContactId',\n        payload: id\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this), typeof state.currentContactId === 'number' ? /*#__PURE__*/_jsxDEV(MyPopUp, {\n      currentContactHandler: currentContactHandler,\n      closePopUp: closePopUp,\n      saveNewChange: saveNewChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ContactsBook, \"lZN1jnibc7G+2ELQEaUIY03HLFA=\");\n\n_c = ContactsBook;\nexport default ContactsBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactsBook\");","map":{"version":3,"names":["React","useState","useMemo","useReducer","MyHeader","ContactsList","MyPopUp","SearchBar","reducer","MAIN_CONTACT_LIST","ContactsBook","state","dispatch","contacts","setContacts","id","name","surname","phone","onContactDelete","contact","type","payload","filterHandler","filter","toLowerCase","includes","filterContacts","currentContactHandler","find","currentContactId","closePopUp","saveNewChange","saveChangeHandler","e","target","value"],"sources":["/Users/user/Documents/React.Hillel/contacts/src/components/ContactsBook.js"],"sourcesContent":["import React, {useState, useMemo, useReducer} from 'react'\nimport MyHeader from \"./MyHeader\"\nimport ContactsList from \"./ContactsList\"\nimport MyPopUp from \"./UI/MyPopUp/MyPopUp\"\nimport SearchBar from \"./UI/SearchBar/SearchBar\"\nimport reducer, {MAIN_CONTACT_LIST} from \"./reducer\";\n\n\nconst ContactsBook = () => {\n\n\tconst [state, dispatch] = useReducer(reducer, MAIN_CONTACT_LIST);\n\tconst [contacts, setContacts] = useState([\n\t\t{\n\t\t\tid: 1,\n\t\t\tname: 'Lidia',\n\t\t\tsurname: 'Nikitina',\n\t\t\tphone: '+38 (123) 123 45 67'\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tname: 'Alice',\n\t\t\tsurname: 'Kluni',\n\t\t\tphone: '+38 (163) 123 45 67'\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tname: 'Carol',\n\t\t\tsurname: 'Semko',\n\t\t\tphone: '+38 (123) 163 45 67'\n\t\t},\n\t\t{\n\t\t\tid: 4,\n\t\t\tname: 'Olga',\n\t\t\tsurname: 'Baritska',\n\t\t\tphone: '+38 (123) 123 46 67'\n\t\t},\n\t\t{\n\t\t\tid: 5,\n\t\t\tname: 'Olga',\n\t\t\tsurname: 'Marirchko',\n\t\t\tphone: '+38 (123) 123 45 66'\n\t\t},\n\t\t{\n\t\t\tid: 6,\n\t\t\tname: 'Svetlana',\n\t\t\tsurname: 'Prihodko',\n\t\t\tphone: '+38 (323) 323 45 67'\n\t\t},\n\t\t{\n\t\t\tid: 7,\n\t\t\tname: 'Alex',\n\t\t\tsurname: 'Manson',\n\t\t\tphone: '+38 (123) 123 43 67'\n\t\t}\n\t]);\n\n\n\tconst onContactDelete = (contact) => {\n\t\tdispatch({\n\t\t\ttype: 'delete',\n\t\t\tpayload: contact.id\n\t\t})\n\t}\n\n\tconst filterHandler = useMemo (() =>{\n\treturn state.contacts.filter(contact => contact.name.toLowerCase().includes(state.filterContacts.toLowerCase())\n\t\t|| contact.surname.toLowerCase().includes(state.filterContacts.toLowerCase())\n\t\t|| contact.phone.toLowerCase().includes(state.filterContacts.toLowerCase()))\n\t}, [state.contacts, state.filterContacts])\n\n\n\tconst currentContactHandler = useMemo (() => {\n\t\treturn filterHandler.find(contact=>contact.id === state.currentContactId)\n\t}, [state.currentContactId, filterHandler])\n\n\n\tconst closePopUp = () => {\n\t\tdispatch(\n\t\t\t{\n\t\t\t\ttype: 'closeContact',\n\t\t\t\tpayload: null\n\t\t\t})\n\t}\n\n\t// const saveNewChange = (saveChangeHandler) => {\n\t// \tconst newContacts = contacts.slice();\n\t// \tconst prevIndex = newContacts.findIndex(currentId=>currentId.id === saveChangeHandler.id)\n\t// \tnewContacts.splice(prevIndex, 1, saveChangeHandler)\n\t// \tsetContacts(newContacts)\n\t// }\n\n\tconst saveNewChange = (saveChangeHandler) => {\n\t  dispatch({\n\t\t\t  type: 'saveContactChange',\n\t\t\t  payload: saveChangeHandler\n\t\t  })\n\t}\n\n\treturn (\n\t\t<div className={'container'}>\n\t\t\t<MyHeader/>\n\t\t\t<SearchBar\n\t\t\t\tonSearch={e=>\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'search',\n\t\t\t\t\t\t\tpayload: e.target.value\n\t\t\t\t\t\t})}\n\t\t\t\tvalue={state.filterContacts}\n\t\t\t/>\n\t\t\t<ContactsList\n\t\t\t\tcontacts={filterHandler}\n\t\t\t\tonContactDelete={onContactDelete}\n\t\t\t\tbuttonChange={(id)=>dispatch(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'currentContactId',\n\t\t\t\t\t\tpayload: id\n\t\t\t\t\t})}\n\t\t\t/>\n\n\t\t\t{\n\t\t\t\t(typeof state.currentContactId === 'number' )\n\t\t\t\t? <MyPopUp\n\t\t\t\t\t\tcurrentContactHandler={currentContactHandler}\n\t\t\t\t\t\tclosePopUp={closePopUp}\n\t\t\t\t\t\tsaveNewChange={saveNewChange}\n\t\t\t\t\t/>\n\t\t\t\t: <></>\n\t\t\t}\n\n\t\t</div>\n\t)\n}\n\nexport default ContactsBook"],"mappings":"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"},"metadata":{},"sourceType":"module"}