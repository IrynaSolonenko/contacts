{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/React.Hillel/contacts/src/components/ContactsBook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useMemo, useReducer } from 'react';\nimport MyHeader from \"./MyHeader\";\nimport ContactsList from \"./ContactsList\";\nimport MyPopUp from \"./UI/MyPopUp/MyPopUp\";\nimport SearchBar from \"./UI/SearchBar/SearchBar\";\nimport reducer, { contactList } from \"./reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ContactsBook = () => {\n  _s();\n\n  // const [contacts, setContacts] = useState([\n  // \t{\n  // \t\tid: 1,\n  // \t\tname: 'Lidia',\n  // \t\tsurname: 'Nikitina',\n  // \t\tphone: '+38 (123) 123 45 67'\n  // \t},\n  // \t{\n  // \t\tid: 2,\n  // \t\tname: 'Alice',\n  // \t\tsurname: 'Kluni',\n  // \t\tphone: '+38 (163) 123 45 67'\n  // \t},\n  // \t{\n  // \t\tid: 3,\n  // \t\tname: 'Carol',\n  // \t\tsurname: 'Semko',\n  // \t\tphone: '+38 (123) 163 45 67'\n  // \t},\n  // \t{\n  // \t\tid: 4,\n  // \t\tname: 'Olga',\n  // \t\tsurname: 'Baritska',\n  // \t\tphone: '+38 (123) 123 46 67'\n  // \t},\n  // \t{\n  // \t\tid: 5,\n  // \t\tname: 'Olga',\n  // \t\tsurname: 'Marirchko',\n  // \t\tphone: '+38 (123) 123 45 66'\n  // \t},\n  // \t{\n  // \t\tid: 6,\n  // \t\tname: 'Svetlana',\n  // \t\tsurname: 'Prihodko',\n  // \t\tphone: '+38 (323) 323 45 67'\n  // \t},\n  // \t{\n  // \t\tid: 7,\n  // \t\tname: 'Alex',\n  // \t\tsurname: 'Manson',\n  // \t\tphone: '+38 (123) 123 43 67'\n  // \t}\n  // ])\n  const [currentContactId, setCurrentContactId] = useState(null);\n  const [filterContacts, setFilterContacts] = useState('');\n  const [state, dispatch] = useReducer(reducer, contactList);\n  const filterHandler = useMemo(() => {\n    return state.contacts.filter(contact => contact.name.toLowerCase().includes(filterContacts.toLowerCase()) || contact.surname.toLowerCase().includes(filterContacts.toLowerCase()) || contact.phone.toLowerCase().includes(filterContacts.toLowerCase()));\n  }, [state.contacts, filterContacts]);\n\n  const deleteContact = contact => {\n    dispatch({\n      type: 'delete',\n      payload: contact.id\n    });\n  };\n\n  const closePopUp = () => {\n    dispatch({\n      type: 'closePopup',\n      payload: null\n    });\n  };\n\n  const editContact = changedContact => {\n    dispatch({\n      type: 'editContact',\n      payload: changedContact\n    });\n  }; // const onContactDelete = () => {\n  // \tsetContacts(state.contacts.filter(current=>current.id !== contact))\n  // }\n\n\n  const currentContactHandler = useMemo(() => {\n    return filterHandler.find(contact => contact.id === currentContactId);\n  }, [currentContactId, filterHandler]); // const closePopUp = () => {\n  // \tsetCurrentContactId(null)\n  // }\n\n  const saveNewChange = saveChangeHandler => {\n    const newContacts = state.contacts.slice();\n    const prevIndex = newContacts.findIndex(currentId => currentId.id === saveChangeHandler.id);\n    newContacts.splice(prevIndex, 1, saveChangeHandler);\n    state(newContacts);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'container',\n    children: [/*#__PURE__*/_jsxDEV(MyHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: e => {\n        dispatch({\n          type: 'search',\n          payload: e.target.value\n        });\n      },\n      value: filterContacts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(ContactsList, {\n      contacts: filterHandler,\n      onContactDelete: deleteContact,\n      buttonChange: id => {\n        dispatch({\n          type: 'selectedContact',\n          payload: id\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 4\n    }, this), typeof currentContactId === 'number' ? /*#__PURE__*/_jsxDEV(MyPopUp, {\n      currentContactHandler: currentContactHandler,\n      closePopUp: closePopUp,\n      saveNewChange: saveNewChange,\n      editContact: editContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ContactsBook, \"WG6bZZxbTGhZfanOzgyGSYSLCDU=\");\n\n_c = ContactsBook;\nexport default ContactsBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactsBook\");","map":{"version":3,"names":["React","useState","useMemo","useReducer","MyHeader","ContactsList","MyPopUp","SearchBar","reducer","contactList","ContactsBook","currentContactId","setCurrentContactId","filterContacts","setFilterContacts","state","dispatch","filterHandler","contacts","filter","contact","name","toLowerCase","includes","surname","phone","deleteContact","type","payload","id","closePopUp","editContact","changedContact","currentContactHandler","find","saveNewChange","saveChangeHandler","newContacts","slice","prevIndex","findIndex","currentId","splice","e","target","value"],"sources":["/Users/user/Documents/React.Hillel/contacts/src/components/ContactsBook.js"],"sourcesContent":["import React, {useState, useMemo, useReducer} from 'react'\nimport MyHeader from \"./MyHeader\"\nimport ContactsList from \"./ContactsList\"\nimport MyPopUp from \"./UI/MyPopUp/MyPopUp\"\nimport SearchBar from \"./UI/SearchBar/SearchBar\"\nimport reducer, {contactList} from \"./reducer\";\n\n\nconst ContactsBook = () => {\n\n\t// const [contacts, setContacts] = useState([\n\t// \t{\n\t// \t\tid: 1,\n\t// \t\tname: 'Lidia',\n\t// \t\tsurname: 'Nikitina',\n\t// \t\tphone: '+38 (123) 123 45 67'\n\t// \t},\n\t// \t{\n\t// \t\tid: 2,\n\t// \t\tname: 'Alice',\n\t// \t\tsurname: 'Kluni',\n\t// \t\tphone: '+38 (163) 123 45 67'\n\t// \t},\n\t// \t{\n\t// \t\tid: 3,\n\t// \t\tname: 'Carol',\n\t// \t\tsurname: 'Semko',\n\t// \t\tphone: '+38 (123) 163 45 67'\n\t// \t},\n\t// \t{\n\t// \t\tid: 4,\n\t// \t\tname: 'Olga',\n\t// \t\tsurname: 'Baritska',\n\t// \t\tphone: '+38 (123) 123 46 67'\n\t// \t},\n\t// \t{\n\t// \t\tid: 5,\n\t// \t\tname: 'Olga',\n\t// \t\tsurname: 'Marirchko',\n\t// \t\tphone: '+38 (123) 123 45 66'\n\t// \t},\n\t// \t{\n\t// \t\tid: 6,\n\t// \t\tname: 'Svetlana',\n\t// \t\tsurname: 'Prihodko',\n\t// \t\tphone: '+38 (323) 323 45 67'\n\t// \t},\n\t// \t{\n\t// \t\tid: 7,\n\t// \t\tname: 'Alex',\n\t// \t\tsurname: 'Manson',\n\t// \t\tphone: '+38 (123) 123 43 67'\n\t// \t}\n\t// ])\n\tconst [currentContactId, setCurrentContactId] = useState(null)\n\tconst [filterContacts, setFilterContacts] = useState('')\n\tconst [state, dispatch] = useReducer(reducer, contactList)\n\n\tconst filterHandler = useMemo (() =>{\n\treturn state.contacts.filter(contact => contact.name.toLowerCase().includes(filterContacts.toLowerCase())\n\t\t|| contact.surname.toLowerCase().includes(filterContacts.toLowerCase())\n\t\t|| contact.phone.toLowerCase().includes(filterContacts.toLowerCase()))\n\t}, [state.contacts, filterContacts])\n\n\n\tconst deleteContact = (contact) => {\n\t  dispatch({\n\t\t  type: 'delete',\n\t\t  payload: contact.id\n\t  })\n\t}\n\n\tconst closePopUp = () => {\n\t  dispatch(\n\t\t  {\n\t\ttype: 'closePopup',\n\t\t  payload: null\n\t  }\n\t  )\n\t}\n\n\tconst editContact = (changedContact) => {\n\t  dispatch({\n\t\t\t  type: 'editContact',\n\t\t\t  payload: changedContact\n\t\t  })\n\t}\n\n\t// const onContactDelete = () => {\n\t// \tsetContacts(state.contacts.filter(current=>current.id !== contact))\n\t// }\n\n\tconst currentContactHandler = useMemo (() => {\n\t\treturn filterHandler.find(contact=>contact.id === currentContactId)\n\t}, [currentContactId, filterHandler])\n\n\n\t// const closePopUp = () => {\n\t// \tsetCurrentContactId(null)\n\t// }\n\n\tconst saveNewChange = (saveChangeHandler) => {\n\t\tconst newContacts = state.contacts.slice();\n\t\tconst prevIndex = newContacts.findIndex(currentId=>currentId.id === saveChangeHandler.id)\n\t\tnewContacts.splice(prevIndex, 1, saveChangeHandler)\n\t\tstate(newContacts)\n\t}\n\n\treturn (\n\t\t<div className={'container'}>\n\t\t\t<MyHeader/>\n\t\t\t<SearchBar\n\t\t\t\tonSearch={e => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: 'search',\n\t\t\t\t\t\tpayload: e.target.value\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\tvalue={filterContacts}\n\t\t\t/>\n\t\t\t<ContactsList\n\t\t\t\tcontacts={filterHandler}\n\t\t\t\tonContactDelete={deleteContact}\n\t\t\t\tbuttonChange={(id)=>{\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: 'selectedContact',\n\t\t\t\t\t\tpayload: id\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t{\n\t\t\t\t(typeof currentContactId === 'number' )\n\t\t\t\t? <MyPopUp\n\t\t\t\t\t\tcurrentContactHandler={currentContactHandler}\n\t\t\t\t\t\tclosePopUp={closePopUp}\n\t\t\t\t\t\tsaveNewChange={saveNewChange}\n\t\t\t\t\t\teditContact={editContact}\n\t\t\t\t\t/>\n\t\t\t\t: <></>\n\t\t\t}\n\n\t\t</div>\n\t)\n}\n\nexport default ContactsBook"],"mappings":"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"},"metadata":{},"sourceType":"module"}